<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Battery/Inverter Compatibility Tool</title>
  <link rel="stylesheet" href="styles.css">
  <link rel="stylesheet" href="print.css" media="print">

  <!-- jsPDF UMD build (2.5.1) -->
  <script src="https://cdn.jsdelivr.net/npm/jspdf@2.5.1/dist/jspdf.umd.min.js"></script>
  <!-- AutoTable plugin (3.5.28) -->
  <script src="https://cdn.jsdelivr.net/npm/jspdf-autotable@3.5.28/dist/jspdf.plugin.autotable.min.js"></script>
</head>
<body>
  <div class="container">
    <h1>Battery/Inverter Compatibility Tool</h1>

    <!-- Filter Section -->
    <div class="section" id="filterSection">
      <h2>Filter Options</h2>
      <div style="display:flex; gap:20px; flex-wrap:wrap;">
        <!-- Inverter Filters -->
        <div style="flex:1; min-width:250px;">
          <h3>Inverter Filters</h3>
          <label for="invMake">Make:</label>
          <select id="invMake"><option value="">--Any--</option></select>
          <label for="invModel">Model:</label>
          <select id="invModel"><option value="">--Any--</option></select>
          <label for="invKW">kW Rating:</label>
          <input type="number" id="invKW" placeholder="e.g., 3.6" step="0.1" min="0">
          <label for="invPhase">Phase:</label>
          <select id="invPhase">
            <option value="">--Any--</option>
            <option value="single">Single-Phase</option>
            <option value="three">Three-Phase</option>
          </select>
        </div>

        <!-- Battery Filters -->
        <div style="flex:1; min-width:250px;">
          <h3>Battery Filters</h3>
          <label for="batMake">Make:</label>
          <select id="batMake"><option value="">--Any--</option></select>
          <label for="batModel">Model:</label>
          <select id="batModel"><option value="">--Any--</option></select>
          <label for="minStorage">Min Storage (kWh):</label>
          <input type="number" id="minStorage" placeholder="e.g., 18" step="0.1" min="0">
          <label for="maxStorage">Max Storage (kWh):</label>
          <input type="number" id="maxStorage" placeholder="e.g., 22" step="0.1" min="0">
        </div>
      </div>
      <button id="applyFiltersBtn">Apply Filters</button>
    </div>

    <!-- Results Section -->
    <div class="section" id="resultsSection" style="display:none;">
      <h2>Matching Combinations</h2>
      <div class="page-size">
        Show
        <select id="pageSizeSelect">
          <option value="10" selected>10</option>
          <option value="25">25</option>
          <option value="50">50</option>
          <option value="100">100</option>
        </select>
        entries
      </div>
      <table id="resultsTable">
        <thead>
          <tr>
            <th data-col="0">Inverter ▲▼</th>
            <th data-col="1">Battery ▲▼</th>
            <th data-col="2">Modules ▲▼</th>
            <th data-col="3">Total Storage ▲▼</th>
            <th data-col="4">Action</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>
      <div class="pagination" id="pagination"></div>
    </div>

    <!-- BOM Section -->
    <div class="section" id="bomSection" style="display:none;">
      <h2>Bill of Materials</h2>
      <div id="bomDetails"></div>
      <div class="buttons" style="margin-top:10px;">
        <button id="closeBOMBtn">Close BOM</button>
        <button id="downloadPdfBtn">Download PDF</button>
      </div>
    </div>
  </div>

  <script src="app.js"></script>
</body>
</html>
